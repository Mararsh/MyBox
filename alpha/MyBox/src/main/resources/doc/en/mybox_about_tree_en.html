<!DOCTYPE html><HTML>
    <HEAD>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>About Tree Structure</title>
        <style type="text/css">
            table {
                max-width:95%;
                margin : 10px;
                border-style: solid;
                border-width:2px;
                border-collapse: collapse;
            }
            th, td {
                border-style: solid;
                border-width:1px;
                padding: 8px;
                border-collapse: collapse;
            }
            th {
                font-weight:bold;
                text-align:center;
            }
            tr {
                height: 1.2em;
            }
            .center {
                text-align:center;
                max-width:95%;
            }
            .valueBox {
                border-style: solid;
                border-width:1px;
                border-color:black;
                padding: 5px;
                border-radius:5px;
            }
            .boldText {
                font-weight:bold;
            }
            .valueText {
                color:#2e598a;
            }

        </style>
    </HEAD>
    <body style="width: 900px; margin:0 auto;" contenteditable="false">
        <h1 align="center">Tree Structure</h1>
        <h2>1 Usages of Tree Structure</h2>
        <p>Tree structure is one of basic data structure which presents one type of nonlinear logic.</p>
        <p>Tree structure can describe relationships in hierarchy and membership accurately.</p>
        <h2>2 Features of Tree Structure</h2>
        <h3>2.1 Concepts</h3>
        <p>Information can be organized as a tree:</p>
        <ol>
            <li>"Node" stores a piece of information.</li>
            <li>"Children Nodes": In lower level and belong to the node. Also called "Branches".</li>
            <li>One node can have multiple children.</li>
            <li>"Parent Node": In higher level and owns the node.</li>
            <li>One node can have only one "Parent".</li>
            <li>"Descendant Nodes": All lower nodes extended recursively from children.</li>
            <li>"Ancestral Nodes": All higher nodes extended recursively from parent.</li>
            <li>"Root Node": In top level and be ancestry of all other nodes.</li>
            <li>"Leaf Nodes":  Have not children.</li>
            <li>"Hierarchy Number": The chain of sequence numbers from root to the node.</li>
            <li>"Node Name": String to describe the node.</li>
            <li>"Chain Name": The chain of node names from root to the node.</li>
            <li>"Steady Node Name": During the tree is being watched or handled, node name is not changed.</li>
            <li>"Static Tree": During the tree is being watched or handled, tree structure is not changed, that is no node is deleted, added, or moved.</li>
            <li>"Dynamic Tree": During the tree is being watched or handled, tree structure is changed, that is some nodes are deleted, added, or moved.</li>
        </ol>
        <h3>2.2 Identify and Locate Nodes</h3>
        <p>To locate specific node in the tree correctly:</p>
        <ul>
            <li>An unique identify should be assigned to each node. That is, identifies of all nodes are different.</li>
            <li>The identify of node should be steady. That is, it should not change during the tree is being watched or handled.</li>
        </ul>
        <h3>2.3 Ordered Tree</h3>
        <p>"Ordered Tree" has following features:</p>
        <ul>
            <li>The order of each node's children are steady. That is, the sequence numbers of children are always same for each query when children are not changed.</li>
            <li>Hierarchy number can identify each node uniquely.</li>
            <li>Hierarchy number of same node may change in dynamic tree.</li>
        </ul>
        <p>So hierarchy number can be used to locate a node only for static ordered tree.</p>
        <h3>2.4 Tree with Unique Chain Names</h3>
        <p>"Tree with unique Chain Names" has following features:</p>
        <ul>
            <li>Names of each node's children are not duplicated.</li>
            <li>Names of different nodes' children can be duplicated.</li>
            <li>Chain names can identify each node uniquely.</li>
            <li>When nodes' names are steady, chain names do not change in dynamic tree.</li>
        </ul>
        <p>So chain names can be used to locate nodes for dynamic or static tree when it is "unique chain names".</p>
        <h2>3 Implement Tree Structure</h2>
        <p>In MyBox, attributes of tree node include: ID, Title(Node Name), Value, Modify_Time, ID of parent node.</p>
        <h3>3.1 ID of Node</h3>
        <p>ID of node is generated and increased automactically, and used to identify and locate each node uniquely. It is absolutely steady attribute:</p>
        <ul>
            <li>Generated by database automactically and never updated once the value is set.</li>
            <li>IDs of all nodes are different.</li>
            <li>Does not change when tree structure is changed.</li>
            <li>Does not change when other attributes of node are changed.</li>
        </ul>         
        <p>IDs of nodes have following disadvantages:</p>
        <ul>
            <li>Unfit for person to remember and recognize nodes, and unfit for operations of interfaces.</li>
            <li>Tightly coupled with application environment, and may cause conflicts and incompatibilities when import data.</li>
        </ul>
        <h3>3.2 Title of Node</h3>
        <p>Title of node is string to describe node:</p>
        <ul>
            <li>Should not be null.</li>
            <li>Should not include " > "(Blank before and after greater-than sign), which is separator of chain name and reserved internally.</li>
            <li>Titles of children can be duplicated.</li>
            <li>Does not change when tree structure is changed.</li>
            <li>Does not change when other attributes of node are changed.</li>
        </ul>
        <p>Because titles of children can be duplicated, if treat node title as node name, then chain name may not be unique and can not locate node correctly with it.</p>
        <p>Titles of nodes have following advantages:</p>
        <ul>
            <li>Fit for person to remember and recognize nodes, and fit for operations of interfaces.</li>
            <li>Do not coupled with application environment, and fit to import data.</li>
        </ul>
        <h3>3.3 Value of Node</h3>
        <p>Value of node is stored as large text of length 2G.</p>
        <p>In MyBox, objects handled by following functions are stored and managed in tree:</p>
        <table>
            <thead>
                <tr><th>    MyBox Function </th><th>                    Format of node value                     </th></tr>
            </thead>
            <tbody>
                <tr><td> Notes         </td><td> Piece of html. Should be content of "body" and should not include tags of "html", "head", and "body".  </td></tr>
                <tr><td> Tree Information   </td><td> Text                                           </td></tr>
                <tr><td> Favorite Address   </td><td> Two fields: Address, Icon                                    </td></tr>
                <tr><td> Image Scope   </td><td> Definition of image scope in XML                                      </td></tr>
                <tr><td> Row Filter        </td><td> Three fields: JavaScript expression, Whether invert, Maximum rows                </td></tr>
                <tr><td> Define Data  </td><td> Data attributes and columns in XML                                </td></tr>
                <tr><td> SQL        </td><td> Text: SQL statements                                      </td></tr>
                <tr><td> Math Function       </td><td> Four fields: Function Name, Variables, Expression, Domain                        </td></tr>
                <tr><td> JavaScript </td><td> Text: JavaScript codes                              </td></tr>
                <tr><td> JShell     </td><td> Text: Java codes                                     </td></tr>
                <tr><td> JEXL       </td><td> Three fields: Script, Context, Parameters                                </td></tr>
            </tbody>
        </table>
        <h3>3.4 Tags of Node</h3>
        <ul>
            <li>Tags are extra attributes assigned to node, and customized by user.</li>
            <li>Purpose of tags is to categorize, query, and locate nodes with keywords.</li>
            <li>One node can have multiple tags.</li>
            <li>One tag can belong to multiple nodes.</li>
        </ul>
        <h3>3.5 Reserved Strings</h3>
        <ul>
            <li>Node's title should not include " > "(Blank before and after greater-than sign), which is separator of chain name.</li>
            <li>Node's tag value should not include ";;;", which is separator between tags.</li>
            <li>All attributes of node should not include following strings:
                <ul>
                    <li>"MyBoxTreeRoot;;;": This is identify of root node.</li>
                    <li>"##MyBox#": This is separator among nodes. </li>
                    <li>"_:;MyBoxNodeValue;:_": This is separator of node's internal values.</li>
                    <li>"MyBoxTreeNodeMore:": This is prefix of node's internal values.</li>
                </ul>
            </li>
        </ul>
        <h2>4 Manage Tree Structure</h2>
        <h3>4.1 Tree View</h3>
        <p>Select one node, and display its "Tree View" with this node as root:</p>
        <ul>
            <li>Tree information is shown in html page.</li>
            <li>Click node name to unfold/fold its childrent.</li>
            <li>Options to display hierarchy number, tags, and node values.</li>
        </ul>
        <h3>4.2 Examples</h3>
        <p>MyBox provides examples for functions in tree.<br />
            Click menu item "Examples" to import example data of the function.</p>
        <p>Examples' tree view of  of each function tree can be viewed in MyBox documents list.</p>
        <h3>4.3 Export</h3>
        <p>Select one node, and export its tree with this node as root:</p>
        <ul>
            <li>Format can be chosen: text, single html, html frameset, xml, or json.</li>
            <li>Options to export node's modified time, and its tags.</li>
            <li>Style of exported html can be set.</li>
        </ul>
        <h3>4.4 Import</h3>
        <p>Tree information can be imported in batch:</p>
        <ul>
            <li>Select multiple files which hold tree information as source.</li>
            <li>File format is text encoded with special delimiters. Exported text can be referred.</li>
            <li>Rulers of text format are displayed in interface, and example is provided.</li>
        </ul>
        <p>Notice:</p>
        <ul>
            <li>Can not locate node by ID when import nodes, because ID is an attribute which couples application environment tightly:
                <ul>
                    <li>After node is exported, it can not keep pace with the application environment.</li>
                    <li>When node is imported, its ID may be missed or conflicted in the imported environment.</li>
                    <li>The hierarchy of imported nodes can not be defined by their IDs because the IDs may be incompatible with the imported environment.</li>
                </ul>
            </li>
            <li>Although MyBox permits duplicated names of children nodes, it locates nodes by chain name when import nodes:
                <ul>
                    <li>Chain name is a stable attribute, which can identify and locate node uniquely in environment of "No duplicated names of children".</li>
                    <li>To existed chain name, options: "Change attributes", "Not change attributes", and "Create child of duplicated name". </li>
                    <li>Algorithm locates parent node in nearest way, that always queries recently written node at first. So the exported tree can be restored when imported.</li>
                </ul>
            </li>
        </ul>
        <h3>4.5 Query and Select Nodes</h3>
        <p>To select nodes, following ways can be taken:</p>
        <ul>
            <li>Click node in the tree.</li>
            <li>To node in the tree, click menu item "Load Children" or  "Load Descendant", and select one or multiple nodes in the nodes list.</li>
            <li>Select multiple tags, and select one or multiple nodes in result list of the query.</li>
            <li>Select multiple time values, and select one or multiple nodes in result list of the query.</li>
            <li>Input multiple keywords, query against node title or node value, and select one or multiple nodes in result list of the query.</li>
        </ul>
        <h3>4.6 Add/Delete/Modify Nodes</h3>
        <p>Select one or multiple nodes, and:</p>
        <ul>
            <li>Add child node.</li>
            <li>Delete the nodes and their descendant.</li>
            <li>Rename node.</li>
            <li>Copy nodes:
                <ul>
                    <li>Choices: Only copy node, Copy node's descendant, or Copy node and its descendant</li>
                    <li>Select the target node to copy into.</li>
                    <li>Target node should not be source node nor its descendant.</li>
                </ul>
            </li>
            <li>Move nodes:
                <ul>
                    <li>Select the target node to move into.</li>
                    <li>Target node should not be source node nor its descendant.</li>
                </ul>
            </li>
            <li>Edit Node.</li>
        </ul>
        <h3>4.7 View Nodes</h3>
        <p>Select one node:</p>
        <ul>
            <li>View node's information in popped window.</li>
            <li>Copy node's title or value into system clipboard.</li>
            <li>Fold node, or node and its descendant.</li>
            <li>Unfold node, or node and its descendant.</li>
            <li>Load children or decendant.</li>
        </ul>
        <h3>4.8 Menu</h3>
        <ul>
            <li>Click buttons in interface to view menus.</li>
            <li>Right click the tree to pop the menu.</li>
            <li>Actions can be chosen for left click, right click, or double click against the tree.</li>
        </ul>
        <br />
    </body>
</HTML>
