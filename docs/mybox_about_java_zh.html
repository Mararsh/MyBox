<!doctype html>
<html>
 <head>
  <title>关于java一句话事项</title>
  <style type="text/css">
             body { margin:0 auto; } 
 table { max-width:95%; margin : 10px;  border-style: solid; border-width:2px; border-collapse: collapse;} 
 th, td { border-style: solid; border-width:1px; padding: 8px; border-collapse: collapse;} 
 th { font-weight:bold;  text-align:center;} 
 tr { height: 1.2em;  } 
 .center { text-align:center;  max-width:95%; } 
 .valueBox { border-style: solid; border-width:1px; border-color:black; padding: 5px; border-radius:5px;} 
 .boldText { font-weight:bold;  } 
 body {width: 900px; } 
 .valueText { color:#2e598a;  } 

        </style>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="UTF-8">
  <meta http-equiv="cache-control" content="no-cache">
 </head>
 <body>
  <h1 align="center">关于java一句话事项</h1>
  <ol>
   <li>总是假设最极端的输入和最离奇的错误操作。</li>
   <li>假设用户硬件配置（cpu/内存/硬盘）略低于平均水平。</li>
   <li>文件读写用BufferedInputStream和BufferedOutputStream。</li>
   <li>访问资源用try-with-resource语句。</li>
   <li>读写文件或数据时始终考虑内存不够的情形。</li>
   <li>读写文本文件时，注意字符集。</li>
   <li>字符串与字节转换时，注意字符集。</li>
   <li>读文件时判断结束的条件应是“len &gt; 0”。如果用“len != -1”则在读取零字节时陷入死循环。</li>
   <li>删除/移动/重命名文件前调用“System.gc()”，以免因缓存而失败。</li>
   <li>处理树形信息（例如文件系统）时要避免无限循环：当操作会修改源节点时，目标节点不能是源节点或者其后代。</li>
   <li>若按序号删除列表，则应从后向前删除。</li>
   <li>当类的参数比较多时，不要写很多构造方法来初始化不同参数集，而是用静态方法创建、然后各个set方法返回this，来实现链式赋值。</li>
   <li>匿名类非常适合以下场景：大量重复代码，只有少数方法的实现不同。</li>
   <li>泛型非常适合以下场景：大量重复代码，只有数据类型不同。</li>
   <li>需要大量实例化的类中尽可能少地定义实例变量和实例方法。</li>
   <li>循环里尽可能不执行浮点计算。如果可以，把浮点计算转换为整型计算。</li>
   <li>监听数据变化时，需要判断是否真的发生变化，可以设置最小变化阈值以避免频繁处理。</li>
   <li>若修改JVM参数，或想粗暴清理应用环境时，需要重启应用。</li>
   <li>注意索引参数是基于0（0-based）还是基于1（1-based），尤其是对第三方库。自己写的方法最好注明。一般默认基于0，若是基于1则必须注明。</li>
   <li>一般地，用户界面上的索引起始于1，而代码数据的索引起始于0。</li>
   <li>一般地，用户界面上的范围（开始-结束）包含结束值，而代码数据的范围（开始-结束）不包含结束值。</li>
   <li>Double.MIN_VALUE是最小正double（最接近于零的正数）。-Double.MAX_VALUE 是最小double。</li>
   <li>若处理货币，应当用整型保存各个货币单位。</li>
   <li>BigDecimal比double慢很多。大多数情况下double的精度够用。</li>
   <li>若是判断数字范围，应当用 if (abs(x - 7.3) &lt; TOLERANCE) 而不是 if (x == 7.3)。</li>
   <li>final static常量必须在编译时刻可以确定。</li>
   <li>JDBC读取数值时，若数据库值为null，则ResultSet.getDouble/getFloat/getInt/getShort返回0。如果需要区分空值和零，则需用ResultSet.getObject。 <a target="_blank" href="https://docs.oracle.com/en/java/javase/18/docs/api/java.sql/java/sql/ResultSet.html#getDouble(java.lang.String)">ResultSet.html#getDouble</a></li>
   <li>从Java18开始，Charset.defaultCharset()总是UTF-8。这会影响到ProcessBuilder的命令和结果的解析。 <a target="_blank" href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Process.html#inputReader()">Process</a> <a target="_blank" href="https://bugs.openjdk.org/browse/JDK-8266075">JDK-8266075</a></li>
  </ol>
 </body>
</html>